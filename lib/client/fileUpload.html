<template name="afFileUpload">
  <input value="{{fileId}}" type="hidden" {{this.atts}}>
  {{#with uploadedFile}}
    {{#if previewTemplate}}
      {{>Template.dynamic template=previewTemplate}}
    {{else}}
      <div>
        {{#if isImage}}
          {{> uploadImageDemo}}
        {{else}}
          {{> uploadFileDemo}}
        {{/if}}
      </div>
      <a data-reset-file href="#" style="display:none">Reset</a>
      <a data-remove-file href="#">Remove</a>
    {{/if}}
  {{else}}
    {{#if uploadTemplate}}
      {{>Template.dynamic template=uploadTemplate data=currentUpload}}
    {{else}}
      {{#with currentUpload}}
        Uploading <b>{{file.name}}</b>:
        <progress value="{{progress.get}}" max="100"></progress>
        &nbsp;
        <span class="progress">{{progress.get}}%</span>
      {{else}}
        <div style="display: flex;">
          <input class="form-control" placeholder="Файл не задан" style="width: 100%;" />
          <input data-files-collection-upload type="file" class="form-control af-file-upload-capture"
            style="position: absolute; left: 0; top: 0; width: 100%; opacity: 0; cursor: pointer; z-index: 1000;"
          />
          <a class="btn-control" title="Загрузить постер"><i class="fa fa-download"></i></a>
        </div>
      {{/with}}
    {{/if}}
  {{/with}}
</template>
